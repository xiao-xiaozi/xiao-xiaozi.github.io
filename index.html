<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="小小子的博客"><title>write down something | 记录下些什么</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/latest/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/grids-responsive-min.min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/latest/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/latest/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/latest/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/latest/toastr.min.css"><meta name="generator" content="Hexo 7.1.1"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">write down something</h1><a id="logo" href="/.">write down something</a><p class="description">记录下些什么</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title"><a href="/2024/09/07/%E4%BD%BF%E7%94%A8nginx%E7%9A%84auth-request%E6%A8%A1%E5%9D%97%E5%AF%B9%E5%89%8D%E7%AB%AF%E8%B5%84%E6%BA%90%E8%AE%BF%E9%97%AE%E9%89%B4%E6%9D%83/">使用nginx的auth_request模块对前端资源访问鉴权</a></h1><div class="post-meta">2024-09-07</div><div class="post-content">业务场景对一个老项目的前端静态资源（存放在前端的PDF、excel或word文件，下文中的静态资源特指这些文件。）进行下载鉴权，非登录用户不允许下载。
项目采用了vue2进行开发，使用axios进行接口请求。请求所需的token是在axios的请求前置拦截器中加到请求头上的。对静态资源的下载则分布在系统各处，通过a标签直接触发下载。故而下载链接没有携带鉴权所...</div><p class="readmore"><a href="/2024/09/07/%E4%BD%BF%E7%94%A8nginx%E7%9A%84auth-request%E6%A8%A1%E5%9D%97%E5%AF%B9%E5%89%8D%E7%AB%AF%E8%B5%84%E6%BA%90%E8%AE%BF%E9%97%AE%E9%89%B4%E6%9D%83/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2024/06/29/JavaScript%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF/">JavaScript事件循环</a></h1><div class="post-meta">2024-06-29</div><p class="readmore"><a href="/2024/06/29/JavaScript%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2024/05/18/%E4%B8%80%E4%BA%9B%E5%BC%80%E5%8F%91%E5%9C%BA%E6%99%AF%E4%B8%8B%E7%9A%84%E9%97%AE%E9%A2%98%E6%80%9D%E8%80%83/">一些开发场景下的问题思考</a></h1><div class="post-meta">2024-05-18</div><div class="post-content">1. 局部样式复用的方式？场景：在几个文件之间（三四个）存在相同&#x2F;相似的样式时，如何复用比较合适？

首先想到的是建立一个公共样式文件、然后引入到需要用到的地方

但是公共样式可能只有一两个类而已、为此建立一个公共样式文件，是否有点大动干戈？

样式相同的部分，抽取为组件，这样可以在组件中维护一套样式即可

样式相同的情况下、这个局部代码理论上可以...</div><p class="readmore"><a href="/2024/05/18/%E4%B8%80%E4%BA%9B%E5%BC%80%E5%8F%91%E5%9C%BA%E6%99%AF%E4%B8%8B%E7%9A%84%E9%97%AE%E9%A2%98%E6%80%9D%E8%80%83/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2024/03/30/%E6%91%98%E6%8A%84%E7%9A%84%E6%96%87%E5%AD%97/">摘抄的文字</a></h1><div class="post-meta">2024-03-30</div><div class="post-content">在一些书籍、电影、电视剧或网络文章上看到的一些文字。




今早雾霾蔽日，但是不要害怕，太阳依旧在云端。

《圆圈正义》

手段代表着正在形成中的正义和正在实现中的理想，人无法通过不正义的手段去实现正义的目标，因为手段是种子而目标是树。

马丁·路德金

许多年后，人们会知道这个世界的一些秘密，也会忘记另一些东西，那是记录所不能及至之处的真实。真实与虚假永...</div><p class="readmore"><a href="/2024/03/30/%E6%91%98%E6%8A%84%E7%9A%84%E6%96%87%E5%AD%97/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2024/03/18/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%9C%A8IOS%E4%B8%8A%E9%81%87%E5%88%B0%E7%9A%84%E6%97%A5%E6%9C%9F%E9%97%AE%E9%A2%98/">微信小程序在IOS上遇到的日期问题</a></h1><div class="post-meta">2024-03-18</div><div class="post-content">业务场景在小程序上执行涉及日期的相关操作时，日期值入参为2020-01-01格式。在模拟器以及安卓真机上均正常，但在IOS真机上出现日期错误问题。
解决方法将日期格式更改为2020/01/01格式，在IOS真机上正常显示。
可能是由于安卓与IOS底层对日期格式的实现有所不同导致的问题，比较难以排查的是，问题只在真机上才能够复现。
</div><p class="readmore"><a href="/2024/03/18/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%9C%A8IOS%E4%B8%8A%E9%81%87%E5%88%B0%E7%9A%84%E6%97%A5%E6%9C%9F%E9%97%AE%E9%A2%98/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2024/03/18/patch-package%E4%BF%AE%E6%94%B9node-modules%E4%B8%AD%E7%9A%84%E4%BE%9D%E8%B5%96%E6%BA%90%E6%96%87%E4%BB%B6%E5%B9%B6%E5%9B%BA%E5%8C%96/">patch-package修改node_modules中的依赖源文件并固化</a></h1><div class="post-meta">2024-03-18</div><div class="post-content">业务场景项目使用了vue-pdf插件，版本号4.2.0，在浏览器里面展示PDF文件，在遇到有签章的文件时，签章无法正常显示。
vue-pdf插件4.2.0版本依赖的pdf-dist版本为2.5.207，此版本的pdf-dist插件不支持显示签章信息，需要改动源码，才可以显示签章。
解决之路修改node_modules并同步到所有项目成员的方法：patch-p...</div><p class="readmore"><a href="/2024/03/18/patch-package%E4%BF%AE%E6%94%B9node-modules%E4%B8%AD%E7%9A%84%E4%BE%9D%E8%B5%96%E6%BA%90%E6%96%87%E4%BB%B6%E5%B9%B6%E5%9B%BA%E5%8C%96/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2024/03/17/vue%E7%9A%84keepAlive%E7%BB%84%E4%BB%B6%E7%83%AD%E6%9B%B4%E6%96%B0%E5%A4%B1%E6%95%88%E9%97%AE%E9%A2%98/">vue的keepAlive组件热更新失效问题</a></h1><div class="post-meta">2024-03-17</div><div class="post-content">在vue框架中使用keepAlive组件进行页面缓存是很常见的操作，以下是一个管理后台的layout文件，根据keepAlive组件的include属性缓存指定的页面。
123456789&lt;template&gt;  &lt;!-- ... --&gt;  &lt;transition :name=&quot;transitionActive ? &#...</div><p class="readmore"><a href="/2024/03/17/vue%E7%9A%84keepAlive%E7%BB%84%E4%BB%B6%E7%83%AD%E6%9B%B4%E6%96%B0%E5%A4%B1%E6%95%88%E9%97%AE%E9%A2%98/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2024/03/15/vue-router%E7%9A%84addRoutes%E6%96%B9%E6%B3%95%E9%81%87%E5%88%B0%E8%B6%85%E8%BF%87%E6%9C%80%E5%A4%A7%E8%B0%83%E7%94%A8%E5%A0%86%E6%A0%88%E9%97%AE%E9%A2%98/">vue-router的addRoutes方法遇到超过最大调用堆栈问题</a></h1><div class="post-meta">2024-03-15</div><div class="post-content">



在router.beforeEach 中调用router.addRoutes() 死循环问题
业务场景：

应用首次打开（reload）时，进行登录不会触发router.addRoutes()死循环
切换线上&#x2F;线下API地址时，由请求拦截器resetRouter后回到登录页，此时进行登录会出现router.addRoutes()死循环

v...</div><p class="readmore"><a href="/2024/03/15/vue-router%E7%9A%84addRoutes%E6%96%B9%E6%B3%95%E9%81%87%E5%88%B0%E8%B6%85%E8%BF%87%E6%9C%80%E5%A4%A7%E8%B0%83%E7%94%A8%E5%A0%86%E6%A0%88%E9%97%AE%E9%A2%98/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2024/03/12/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8Fwebview%E5%86%85%E5%B5%8CH5%E5%9B%BE%E7%89%87%E4%BF%9D%E5%AD%98%E9%97%AE%E9%A2%98/">微信小程序webview内嵌H5图片保存问题</a></h1><div class="post-meta">2024-03-12</div><div class="post-content">业务场景在内嵌于第三方小程序的H5项目内，实现将图片保存到用户本地的功能。
项目所使用的技术栈:
12H5项目: uniapp 开发的项目微信小程序: 第三方小程序，非项目组所能控制


解决之路了解具体需求之后，在uniapp以及微信小程序文档查找可用的相关API，发现几乎所有的保存相关的接口都无法在H5端调用。能使用上的方法仅有downloadFile接...</div><p class="readmore"><a href="/2024/03/12/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8Fwebview%E5%86%85%E5%B5%8CH5%E5%9B%BE%E7%89%87%E4%BF%9D%E5%AD%98%E9%97%AE%E9%A2%98/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2024/03/08/hello-world/">Hello World</a></h1><div class="post-meta">2024-03-08</div><div class="post-content">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask...</div><p class="readmore"><a href="/2024/03/08/hello-world/">Read More</a></p></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="author-info"><a class="info-avatar" href="/about/" title="About"><img class="nofancybox" src="/img/avatar.png"/></a><p>Write for others but mostly for yourself.</p><a class="info-icon" href="https://github.com/xiao-xiaozi" title="Github" target="_blank" style="margin-inline:5px"> <i class="fa fa-github-square" style="margin-inline:5px"></i></a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2024/09/07/%E4%BD%BF%E7%94%A8nginx%E7%9A%84auth-request%E6%A8%A1%E5%9D%97%E5%AF%B9%E5%89%8D%E7%AB%AF%E8%B5%84%E6%BA%90%E8%AE%BF%E9%97%AE%E9%89%B4%E6%9D%83/">使用nginx的auth_request模块对前端资源访问鉴权</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/06/29/JavaScript%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF/">JavaScript事件循环</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/05/18/%E4%B8%80%E4%BA%9B%E5%BC%80%E5%8F%91%E5%9C%BA%E6%99%AF%E4%B8%8B%E7%9A%84%E9%97%AE%E9%A2%98%E6%80%9D%E8%80%83/">一些开发场景下的问题思考</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/03/30/%E6%91%98%E6%8A%84%E7%9A%84%E6%96%87%E5%AD%97/">摘抄的文字</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/03/18/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%9C%A8IOS%E4%B8%8A%E9%81%87%E5%88%B0%E7%9A%84%E6%97%A5%E6%9C%9F%E9%97%AE%E9%A2%98/">微信小程序在IOS上遇到的日期问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/03/18/patch-package%E4%BF%AE%E6%94%B9node-modules%E4%B8%AD%E7%9A%84%E4%BE%9D%E8%B5%96%E6%BA%90%E6%96%87%E4%BB%B6%E5%B9%B6%E5%9B%BA%E5%8C%96/">patch-package修改node_modules中的依赖源文件并固化</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/03/17/vue%E7%9A%84keepAlive%E7%BB%84%E4%BB%B6%E7%83%AD%E6%9B%B4%E6%96%B0%E5%A4%B1%E6%95%88%E9%97%AE%E9%A2%98/">vue的keepAlive组件热更新失效问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/03/15/vue-router%E7%9A%84addRoutes%E6%96%B9%E6%B3%95%E9%81%87%E5%88%B0%E8%B6%85%E8%BF%87%E6%9C%80%E5%A4%A7%E8%B0%83%E7%94%A8%E5%A0%86%E6%A0%88%E9%97%AE%E9%A2%98/">vue-router的addRoutes方法遇到超过最大调用堆栈问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/03/12/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8Fwebview%E5%86%85%E5%B5%8CH5%E5%9B%BE%E7%89%87%E4%BF%9D%E5%AD%98%E9%97%AE%E9%A2%98/">微信小程序webview内嵌H5图片保存问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/03/08/hello-world/">Hello World</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Links</i></div><ul></ul><a href="https://albert-cord.github.io" title="Albert-cord" target="_blank">Albert-cord</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2024 <a href="/." rel="nofollow">write down something.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.js"></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0"></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.css"><link rel="stylesheet" type="text/css" href="/css/search.css?v=1.0.0"><script type="text/javascript" src="/js/search.js?v=1.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
  search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="Copy Successed!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>